<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
  <link rel="stylesheet" type="text/css" href="css/jquery.mobile.flatui.css" />
  <link rel="stylesheet" type="text/css" href="css/hermandades.css" />
  <script src="js/jquery.js"></script>
  <script src="js/jquery.mobile-1.4.0-rc.1.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/3.0.1/handlebars.js"></script>
  <style>
   #map-canvas {
     display: block;
position:absolute;
bottom:0;
top:0;
left:0;
right:0;
    }

  </style>
  <script src="https://maps.googleapis.com/maps/api/js?v=3.exp"></script>
  <script src="js/map.js"></script>



</head>
<body  style="width:100%; height:100%">
  <div id="page" data-role="page"  style="width:100%; height:100%">

    <div data-role="panel" id="panel" data-position="left" data-theme="a" data-display="push">

      <ul data-role="listview" data-inset="false" data-filter="false">
          <li><a  href="#">Mapa</a></li>
          <li><a href="#">Hermandades</a></li>
          <li><a href="#">Créditos</a></li>



      </ul>

    </div>

    <div data-role="header" id="header">
      <a href="#panel" data-role="button" ><i class="fa fa-reorder fa-2x"></i></a>
      <h1>Guía cofrade Sevillana</h1>
    </div>



    <div id="hermandad" data-role="content" role="main"  >

    </div>

      <div id="map-canvas" data-role="content" role="main">
      </div>


</div>




</body>


<script type="text/javascript">
$(function() {
	var stemplate =  $.ajax({
	url: 'plantillahermandad.html'
	});

	stemplate.done(function (data) {
    var tmpl = Handlebars.compile(data);

		var xhr = $.ajax({
		url: 'Beers.json'
		});

		xhr.done(function (data) {
      console.log(data);
			var ctx = data;
			var html = tmpl(ctx);
			$("#hermandad").html(html);
      $( "#cerrar" ).click(function() {
        $("#hermandad").fadeOut(500);
      });
		});
	});

});


/**
* Devuelve la ruta al escudo de la Hermandad
* @param {String} Ruta a la carpeta
* @returns {String} Ruta al escudo
*/
Handlebars.registerHelper('escudo', function(carpeta) {
  return new Handlebars.SafeString(
    carpeta + "escudo.png"
  );
});

/**
* Devuelve la ruta a la cabecera de la Hermandad
* @param {String} Ruta a la carpeta
* @returns {String} Ruta a la cabecera
*/
Handlebars.registerHelper('cabecera', function(carpeta) {
  return new Handlebars.SafeString(
    carpeta + "cabecera.jpg"
  );
});



/**
* Devuelve la ruta a la imagen del titular
* @param {String} Ruta a la carpeta
* @param {int} Índice del titular
* @returns {String} Ruta a la imagen del titular según corresponda
*/
Handlebars.registerHelper('titular', function(carpeta,indice) {
  var titular = null;

  switch(indice) {
    case 0:
        titular = "primero.png";
        break;
    case 1:
        titular = "segundo.png";
        break;
    case 2:
        titular = "tercero.png";
        break;
    case 3:
        titular = "cuarto.png";
        break;
    }

  return new Handlebars.SafeString(
    carpeta + titular
  );
});

</script>

<script>
$("#hermandad").hide();
$( "#cerrar" ).click(function() {
  $("#hermandad").fadeOut(500);
});
</script>



</html>
